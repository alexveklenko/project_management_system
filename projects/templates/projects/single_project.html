{% extends 'projects/base.html' %}

{% block title %}Project | {{ project.title }}{% endblock title %}

{% block content %}

  <div class="d-flex align-items-center">
    <h1 class="mt-2 mr-4 d-inline-block">{{ project.title }}</h1>
    <a href="{% url 'edit_project' project.id %}" class="btn btn-secondary btn-sm">
      <span data-feather="edit" class="mr-2"></span>Edit project
    </a>
  </div>
  <div>{{ project.body_as_html|safe }}</div>

  <div class="d-flex align-items-center">
    <h2 class="d-inline-block mr-4">List of tasks</h2>
    <a href="{% url 'new_task' %}?project_id={{ project.id }}" class="btn btn-secondary btn-sm">
      <span data-feather="plus-circle" class="mr-2"></span>New task
    </a>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th>#</th>
          <th>Title</th>
          <th>Author</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {% for task in tasks %}
          <tr>
            <td>{{ task.id }}</td>
            <td><a href="{% url 'task' task.id %}">{{ task.title }}</a></td>
            <td>{{ task.author }}</td>
            <td>{{ task.status }}</td>
          </tr>
        {% endfor %}            
      </tbody>
    </table>
  </div>

{% endblock content %}